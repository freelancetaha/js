<!doctype html>
<html lang="en">
  <head>
    <!-- Google Tag Manager -->
    <script>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != 'dataLayer' ? '&l=' + l : '';
        j.async = true;
        j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, 'script', 'dataLayer', 'GTM-NSQHHD6K');
    </script>
    <!-- End Google Tag Manager -->
    <!-- Moengage script -->
    <script type="text/javascript">
      (function (i, s, o, g, r, a, m, n) {
        i.moengage_object = r;
        t = {};
        q = function (f) {
          return function () {
            (i.moengage_q = i.moengage_q || []).push({ f: f, a: arguments });
          };
        };
        (f = [
          'track_event',
          'add_user_attribute',
          'add_first_name',
          'add_last_name',
          'add_email',
          'add_mobile',
          'add_user_name',
          'add_gender',
          'add_birthday',
          'destroy_session',
          'add_unique_user_id',
          'moe_events',
          'call_web_push',
          'track',
          'location_type_attribute',
        ]),
          (h = { onsite: ['getData', 'registerCallback'] });
        for (k in f) {
          t[f[k]] = q(f[k]);
        }
        for (k in h)
          for (l in h[k]) {
            null == t[k] && (t[k] = {}), (t[k][h[k][l]] = q(k + '.' + h[k][l]));
          }
        a = s.createElement(o);
        m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m);
        i.moe =
          i.moe ||
          function () {
            n = arguments[0];
            return t;
          };
        a.onload = function () {
          if (n) {
            i[r] = moe(n);
          }
        };
      })(
        window,
        document,
        'script',
        'https://cdn.moengage.com/webpush/moe_webSdk.min.latest.js',
        'Moengage',
      );
      var debugValue = '%REACT_APP_ENV%' === 'production' ? 0 : 1;
      // console.log(debugValue);
      // console.log("%REACT_APP_ENV%");
      Moengage = moe({
        app_id: 'BVU89W1TGDG4V5M3ESVW86P2',
        debug_logs: debugValue,
      });
    </script>

    <!-- 
<script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async=""></script>
<script>
  window.OneSignal = window.OneSignal || [];
  OneSignal.push(function() {
    OneSignal.init({
      appId: "0a6f3db4-66ca-4b42-af5a-7bee59d5784a",
    });
  });
</script>
 -->

    <!-- vdoCipher script start -->
    <script src="https://player.vdocipher.com/playerAssets/1.6.10/vdo.js"></script>
    <script src="https://player-static.qencode.com/release/qencode-bootstrapper.min.js"></script>
    <!-- vdoCipher script end -->
    <script>
      const pattern = /https:\/\/www./;
      if (pattern?.test?.(window?.location?.href)) {
        const currentUrl = window?.location?.href;
        const updatedUrl = currentUrl?.replace?.(pattern, 'https://');
        if (updatedUrl) {
          window.location = updatedUrl;
        }
      }
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=UA-158705853-1"
    ></script>
    <script>
      if ('%REACT_APP_ENV%' === 'production') {
        window.dataLayer = window.dataLayer || [];
        function gtag() {
          dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'UA-158705853-1');
      }
    </script>

    <meta charset="utf-8" />
    <meta
      name="facebook-domain-verification"
      content="23mgmemmgyp2f49mnwobuqn59s4kwh"
    />
    <link rel="icon" id="favicon1" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"
    />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      id="htmlDescription"
      content="Creator's Platform."
    />
    <!-- content="TagMango helps content creators monetise better. It helps them host live workshops and launch their courses. " -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@100;200;300;400;500;600;700;800;900&family=Open+Sans+Condensed:wght@100;200;300;400;500;600;700;800;900&family=Noto+Sans:wght@100;200;300;400;500;600;700;800;900&family=Noto+Serif:wght@100;200;300;400;500;600;700;800;900&family=Roboto:wght@100;200;300;400;500;600;700;800;900&family=Roboto+Condensed:wght@100;200;300;400;500;600;700;800;900&family=Roboto+Slab:wght@100;200;300;400;500;600;700;800;900&family=Poppins:wght@100;200;300;400;500;600;700;800;900&family=Montserrat:wght@100;200;300;400;500;600;700;800;900&family=Sora:wght@100;200;300;400;500;600;700;800;900&family=PT+Sans:wght@100;200;300;400;500;600;700;800;900&family=PT+Serif:wght@100;200;300;400;500;600;700;800;900&family=Lato:wght@100;200;300;400;500;600;700;800;900&family=Raleway:wght@100;200;300;400;500;600;700;800;900&family=Source+Sans+Pro:wght@100;200;300;400;500;600;700;800;900&family=Libre+Baskerville:wght@100;200;300;400;500;600;700;800;900&family=Nunito:wght@100;200;300;400;500;600;700;800;900&family=Outfit:wght@100;200;300;400;500;600;700;800;900&family=Rubik:wght@100;200;300;400;500;600;700;800;900&family=Oswald:wght@100;200;300;400;500;600;700;800;900&family=Merriweather:wght@100;200;300;400;500;600;700;800;900&family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Noto+Serif+Kannada:wght@100;200;300;400;500;600;700;800;900&family=Playfair+Display:wght@100;200;300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />

    <link rel="apple-touch-icon" id="favicon2" />
    <!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
    <link rel="manifest" href="/web/manifest.json" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/ckeditor/4.14.1/ckeditor.js"></script>
    <title id="appTitle">
      Creator's Platform to host live workshops and launch courses
    </title>
    <link rel="stylesheet" href="/index.css" />
    <script>
      (function (w) {
        w.fpr =
          w.fpr ||
          function () {
            w.fpr.q = w.fpr.q || [];
            w.fpr.q[arguments[0] == 'set' ? 'unshift' : 'push'](arguments);
          };
      })(window);
      fpr('init', { cid: '5pajjo7p' });
      fpr('click');
    </script>
    <script type="text/javascript">
      (function (c, l, a, r, i, t, y) {
        c[a] =
          c[a] ||
          function () {
            (c[a].q = c[a].q || []).push(arguments);
          };
        t = l.createElement(r);
        t.async = 1;
        t.src = 'https://www.clarity.ms/tag/' + i;
        y = l.getElementsByTagName(r)[0];
        y.parentNode.insertBefore(t, y);
      })(window, document, 'clarity', 'script', 'enu389tep3');
    </script>
    <script src="https://cdn.firstpromoter.com/fpr.js" async></script>
    <script type="module" crossorigin src="/web/assets/index-CBO1AfG0.js"></script>
    <link rel="stylesheet" crossorigin href="/web/assets/index-CbhqyNFY.css">
  </head>
  <style>
    :root {
      --primary-color: #f2962c;
      --secondary-color: #000000;
    }
  </style>

  <body>
    <style>
      :root {
        --primary-color: #f2962c;
        --accent-color: #fffbf1;
        --secondary-color: #000000;
      }
    </style>
    <!-- Google Tag Manager (noscript) -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-NSQHHD6K"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
      ></iframe
    ></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>

    <!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the <body> tag.

      To begin the development, run `npm start` or `yarn start`.
      To create a production bundle, use `npm run build` or `yarn build`.
    -->
  </body>

  <script src="https://scripts.tagmango.com/v2/redirects.js"></script>

  <!-- // PWA changes -->
  <script>
    async function startPWARedirection() {
      try {
        const exclude_paths = [
          'mangocheckout',
          'checkout',
          'meeting',
          'terms',
          'privacy',
          'payment/thank-you',
          'download-app',
          'verify-email',
        ];
        console.log('PWA redirection script start');
        const query = new URLSearchParams(window.location.search);
        const token = query.get('token');
        // if (token && token !== 'null') {
        //   localStorage.setItem('token', token);
        //   console.log('Token stored in local storage');
        // }
        if (window.location.host.includes('tagmango.com')) {
          console.log('Tagmango redirection function called');
          Redirections.redirect({
            prefix: 'm',
            redirect_tablet: 'mobile',
            exclude_paths: exclude_paths,
            token: token,
          });
        } else if (!window.location.origin.includes('tagmango.com')) {
          const testingHosts = [
            'localhost',
            'd2k5f83e82c9np.cloudfront.net',
            '.tagmango.in',
            '.sonjau.xyz',
          ];
          const serverUrl = testingHosts.some(host =>
            window.location.origin.includes(host),
          )
            ? 'https://testing-api.tagmango.com'
            : 'https://api-prod-new.tagmango.com';
          console.log('Hostdata API called');
          const response = await fetch(`${serverUrl}/get-host-details`, {
            headers: {
              'Content-Type': 'application/json',
              'x-whitelabel-host': window.location.origin.includes('localhost')
                ? 'd2k5f83e82c9np.cloudfront.net'
                : window.location.host,
            },
          });
          const hostData = await response.json();
          console.log('Hostdata responce', hostData);
          if (
            hostData?.code === 0 &&
            hostData?.result &&
            hostData?.result?.isPWAEnabled
          ) {
            console.log('WL redirection function called');
            Redirections.redirect({
              prefix: 'm',
              redirect_tablet: 'mobile',
              exclude_paths: exclude_paths,
              token: token,
            });
          }
        }
      } catch (error) {
        console.log(error);
      }
    }
    startPWARedirection();
  </script>

  <script src="https://js.stripe.com/v3/"></script>

  <!-- JustPay Start -->
  <!-- TODO: Removed Juspay SDK -->
  <!-- <script src="%REACT_APP_JUSPAY_SDK_URL%"></script> -->
  <!-- JustPay End -->

  <script src="https://cdn.jsdelivr.net/npm/mux.js@5.5.1/dist/mux.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/shaka-player@3.1.2/dist/shaka-player.compiled.min.js"></script>
  <script src="/web/themeChange.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const isMac = navigator.userAgent.toUpperCase().indexOf('MAC') >= 0;

      if (!isMac) {
        document.documentElement.classList.add('non-mac');
      }
    });
  </script>

  <script
    type="text/javascript"
    src="https://cdn.bitmovin.com/analytics/web/2/bitmovinanalytics.min.js"
  ></script>
  <script
    src="https://cdn.bitmovin.com/player/web/8/bitmovinplayer.js"
    type="text/typescript"
  ></script>
  <script
    src="//cdn.bitmovin.com/player/web/8/bitmovinplayer-ui.js"
    type="text/typescript"
  ></script>
  <link
    href="//cdn.bitmovin.com/player/web/8/bitmovinplayer-ui.css"
    rel="stylesheet"
  />

  <!-- Load Google Identity Services and Picker API -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <script src="https://apis.google.com/js/api.js"></script>

  <!-- Calendly link widget begin -->
  <!-- <link
    href="https://assets.calendly.com/assets/external/widget.css"
    rel="stylesheet"
  />
  <script
    src="https://assets.calendly.com/assets/external/widget.js"
    type="text/javascript"
  ></script> -->
  <!-- Calendly link widget end -->

  <!-- <script src="https://checkout.razorpay.com/v1/checkout.js"></script> -->
  <!-- Start of Async Drift Code -->
  <!-- <script>
    "use strict";
    !function() {
      var t = window.driftt = window.drift = window.driftt || [];
      if (!t.init) {
        if (t.invoked) return void (window.console && console.error && console.error("Drift snippet included twice."));
        t.invoked = !0, t.methods = [ "identify", "config", "track", "reset", "debug", "show", "ping", "page", "hide", "off", "on" ],
        t.factory = function(e) {
          return function() {
            var n = Array.prototype.slice.call(arguments);
            return n.unshift(e), t.push(n), t;
          };
        }, t.methods.forEach(function(e) {
          t[e] = t.factory(e);
        }), t.load = function(t) {
          var e = 3e5, n = Math.ceil(new Date() / e) * e, o = document.createElement("script");
          o.type = "text/javascript", o.async = !0, o.crossorigin = "anonymous", o.src = "https://js.driftt.com/include/" + n + "/" + t + ".js";
          var i = document.getElementsByTagName("script")[0];
          i.parentNode.insertBefore(o, i);
        };
      }
    }();
    drift.SNIPPET_VERSION = '0.3.1';
    drift.load('9n3rgxkmpm8x');
    </script> -->
  <!-- End of Async Drift Code -->
  <!-- <script>
    function initFreshChat() {
      window.fcWidget.init({
        token: "6bfa19f2-f465-4312-998c-cf222e3f1b60",
        host: "https://wchat.in.freshchat.com"
      });
    }
    function initialize(i,t){var e;i.getElementById(t)?initFreshChat():((e=i.createElement("script")).id=t,e.async=!0,e.src="https://wchat.in.freshchat.com/js/widget.js",e.onload=initFreshChat,i.head.appendChild(e))}function initiateCall(){initialize(document,"freshchat-js-sdk")}window.addEventListener?window.addEventListener("load",initiateCall,!1):window.attachEvent("load",initiateCall,!1);
  </script> -->
  <!-- PayTm Script Start--->
  <!-- <script src="%REACT_APP_PAYTM_HOST%/merchantpgpui/checkoutjs/merchants/%REACT_APP_PAYTM_MID%.js"> </script> -->
  <!-- <script>
    function onScriptLoad(){
        var config = {
          "root": "",
          "flow": "DEFAULT",
          "data": {
          "orderId": "", /* update order id */
          "token": "", /* update token value */
          "tokenType": "TXN_TOKEN",
          "amount": "" /* update amount */
          },
          "handler": {
            "notifyMerchant": function(eventName,data){
              console.log("notifyMerchant handler function called");
              console.log("eventName => ",eventName);
              console.log("data => ",data);
            } 
          }
        };

        if(window.Paytm && window.Paytm.CheckoutJS){
            window.Paytm.CheckoutJS.onLoad(function excecuteAfterCompleteLoad() {
                // initialze configuration using init method 
                window.Paytm.CheckoutJS.init(config).then(function onSuccess() {
                    // after successfully updating configuration, invoke JS Checkout
                    window.Paytm.CheckoutJS.invoke();
                }).catch(function onError(error){
                    console.log("error => ",error);
                });
            });
        } 
    }
  </script> -->
  <!-- PayTm Script END--->
</html>
